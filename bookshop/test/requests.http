# running locally
@server = http://localhost:4004

# running on cf
#@server = https://bookshop-srv-....hana.ondemand.com

### get all books
GET {{server}}/admin/Books

### get all authors
GET {{server}}/admin/Authors

### get all genres
GET {{server}}/admin/Genres


### create book with wrong author ID -> should fail
POST {{server}}/admin/Books
Content-Type: application/json

{
  "ID": 701,
  "title": "XXX",
  "author": { "ID": 9999 }
}

### create book with correct author ID -> should work
POST {{server}}/admin/Books
Content-Type: application/json;IEEE754Compatible=true

{
  "ID": 702,
  "title": "Poems : Pocket Poets",
  "author": { "ID": 101 }
}

### delete book
DELETE {{server}}/admin/Books(ID=701)

### change book to wrong author ID -> should fail

PATCH {{server}}/admin/Books(ID=207)
Content-Type:application/json

{"author_ID": 9999}

### change book to correct author ID -> should work

PATCH {{server}}/admin/Books(ID=207)
Content-Type:application/json

{"author_ID": 170}



### delete "leaf" genre that is used in a book -> should not work
DELETE {{server}}/admin/Genres(ID=13)

### delete "leaf" genre that is not used in a book -> should work
DELETE {{server}}/admin/Genres(ID=14)


### delete "header" genre where leaves are used in a book -> should not work
DELETE {{server}}/admin/Genres(ID=10)


### delete "header" genre where leaves are not used in a book -> should work and delete all leaves
DELETE {{server}}/admin/Genres(ID=30)
